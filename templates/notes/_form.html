<form action="{{ request.path }}" method="post">
  <div class="mb-3">
    <textarea class="form-control form-control-lg" required
              id="note-textarea" rows="3" maxlength="200"
              name="content" placeholder="What's on your mind?">{% if note %}{{ note["content"] }}{% endif %}</textarea>
    <div class="form-text">
      <span id="note-chars-count">0</span> / 200
    </div>
  </div>

  <div class="mb-4">
    <div class="input-group input-group-lg">
      <span class="input-group-text">Tags:</span>
      <input type="text" class="form-control" name="tags" placeholder="Add tags separated by commas" 
             {% if note %} value="{{ note['tags'] }}"{% endif %}>
    </div>
  </div>

  <div class="mb-4">
    <div class="form-check lead">
      <input class="form-check-input" type="radio" name="public" value="True" id="publicYes" 
              {% if note and note['public'] %} checked {% endif %}>
      <label class="form-check-label" for="publicYes">
        Publish to everyone
      </label>
    </div>
    <div class="form-check lead">
      <input class="form-check-input" type="radio" name="public" value="False" id="publicNo"
              {% if note and not note['public'] %} checked {% endif %}>
      <label class="form-check-label" for="publicNo">
        Hide in archive
      </label>
    </div>
  </div>

  <div class="d-flex justify-content-end">
      {% if note %}
        <a href="{{ url_for('delete', id=note['id']) }}" class="btn btn-lg btn-outline-danger me-5">Delete Note</a>
      {% endif %}
      <button type="submit" class="btn btn-lg btn-primary">{{ buttonText }}</button>
  </div>
</form>
